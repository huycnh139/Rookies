@page "/product/{Id?}"
@model Rookie.Ecom.Customer.Pages.ProductModel
@{
    string name = "";
    string des = "";
    decimal price = 0;
    var id = this.Request.RouteValues["Id"] ?? "0";
    var productId = Int32.Parse(id.ToString());
    foreach (var i in Model._product)
    {
        if (i.Id == productId)
        {
            name = i.Name;
            des = i.Description;
            price = i.Price;
        }
    }
    string ImagePath = "";
    foreach (var image in Model._productImage)
        if (image.IsDefualt == true)
        {
            ImagePath = image.Name + image.Id;
        }
}

<div class="container-fluid bg-light overflow-hidden px-lg-0" style="margin: 6rem 0;">
    <div class="container quote px-lg-0">
        <div class="row g-0 mx-lg-0">
            <div class="col-lg-4 ps-lg-0 wow fadeIn" data-wow-delay="0.1s" style="min-height: 400px;">
                <div class="position-relative h-100">
                    <img class="image1" width="100%" height="70%" src="@ImagePath" style="object-fit: cover;" alt="">
                    <br />
                    <h3 style="color: red; padding-left:30%;">@price đ</h3>
                </div>
            </div>
            <div class="col-lg-8 quote-text py-5 wow fadeIn" data-wow-delay="0.5s">
                <div class="p-lg-5 pe-lg-0">
                    <h6 class="text-primary">@Model._categoryDto.Name</h6>
                    <h1 class="mb-4">@name</h1>
                    <p class="mb-4 pb-2">@des<p />
                    <form>
                        <div class="row g-3">
                            <div class="col-12 col-sm-6">
                                <select class="form-select border-0" style="height: 55px;">
                                    <option selected>Choose size</option>
                                    <option value="1">S 6"</option>
                                    <option value="2">M 9"</option>
                                    <option value="3">L 12"</option>
                                </select>
                            </div>
                            <div class="col-12 col-sm-6">
                                <select class="form-select border-0" style="height: 55px;">
                                    <option selected>Choose Dough</option>
                                    <option value="1">Pan</option>
                                    <option value="2">Cispy Thin</option>
                                    <option value="3">Extreme Cheese</option>
                                    <option value="4">Extreme Sausage and Cheese</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <textarea class="form-control border-0" placeholder="Note"></textarea>
                            </div>
                            <div class="col-12">
                                <button class="btn btn-primary rounded-pill py-3 px-5" type="buy">Buy it</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="review-post">
            <div style="font-size: 20px; margin-bottom: 20px;">ĐÁNH GIÁ SẢN PHẨM</div>
            @if (Model._ratingDtos.Count == 0)
            {
                <div class="el-empty">
                    <div class="el-empty__image" style="width: 200px;">
                        <svg viewBox="0 0 79 86" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <defs><linearGradient id="linearGradient-1-2" x1="38.8503086%" y1="0%" x2="61.1496914%" y2="100%"><stop stop-color="#FCFCFD" offset="0%"></stop><stop stop-color="#EEEFF3" offset="100%"></stop></linearGradient><linearGradient id="linearGradient-2-2" x1="0%" y1="9.5%" x2="100%" y2="90.5%"><stop stop-color="#FCFCFD" offset="0%"></stop><stop stop-color="#E9EBEF" offset="100%"></stop></linearGradient><rect id="path-3-2" x="0" y="0" width="17" height="36"></rect></defs>
                            <g id="Illustrations" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="B-type" transform="translate(-1268.000000, -535.000000)"><g id="Group-2" transform="translate(1268.000000, 535.000000)"><path id="Oval-Copy-2" d="M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z" fill="#F7F8FC"></path><polygon id="Rectangle-Copy-14" fill="#E5E7E9" transform="translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) " points="13 58 53 58 42 45 2 45"></polygon><g id="Group-Copy" transform="translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"><polygon id="Rectangle-Copy-10" fill="#E5E7E9" transform="translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) " points="2.84078316e-14 3 18 3 23 7 5 7"></polygon><polygon id="Rectangle-Copy-11" fill="#EDEEF2" points="-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"></polygon><rect id="Rectangle-Copy-12" fill="url(#linearGradient-1-2)" transform="translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) " x="38" y="7" width="17" height="36"></rect><polygon id="Rectangle-Copy-13" fill="#F8F9FB" transform="translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) " points="24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"></polygon></g><rect id="Rectangle-Copy-15" fill="url(#linearGradient-2-2)" x="13" y="45" width="40" height="36"></rect><g id="Rectangle-Copy-17" transform="translate(53.000000, 45.000000)"><mask id="mask-4-2" fill="white"><use xlink:href="#path-3-2"></use></mask><use id="Mask" fill="#E0E3E9" transform="translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) " xlink:href="#path-3-2"></use><polygon id="Rectangle-Copy" fill="#D5D7DE" mask="url(#mask-4-2)" transform="translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) " points="7 0 24 0 20 18 -1.70530257e-13 16"></polygon></g><polygon id="Rectangle-Copy-18" fill="#F8F9FB" transform="translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) " points="62 45 79 45 70 58 53 58"></polygon></g></g></g>
                        </svg>
                    </div>
                    <div class="el-empty__description"><p>Chưa có đánh giá nào!</p></div><!---->
                </div>
            }
            else
            {
                @foreach (var r in Model._ratingDtos)
                {
                    <div class="user-line">
                        <div class="user-avatar">
                            <i class="fa-solid fa-user"></i>
                        </div>
                        <div class="user-review">
                            <div class="user-name">Huy Châu</div>
                            <div class="date-review">@r.DateCreate</div>
                            <div class="user-post"><h5>@r.Comment</h5></div>

                        </div>
                    </div>
                }
            }
        </div>
    </div>

</div>
</div>

        </div>
    </div>

}

<style>
    .review-post {
        padding: 0 120px;
    }

    .user-line {
        display: flex;
        padding: 10px 0;
        border-bottom: 1px solid silver;
    }

    .user-avatar {
        border: 1px solid silver;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        background-color: #f5f5f5;
        text-align: center;
        line-height: 36px;
        font-size: 18px;
        margin-right: 10px;
    }

    .user-review {
        font-size: 12px;
        width: 1100px;
    }

    .user-score {
        color: #f57f48;
        margin: 5px 0;
    }

    .user-post {
        font-size: 14px;
        margin: 5px 0;
    }

    .date-review {
        color: rgba(0,0,0,.54);
    }

    .user-img-review img {
        width: 150px;
    }
</style>
